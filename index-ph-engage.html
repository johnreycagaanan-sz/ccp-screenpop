<!--Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.-->
<!--SPDX-License-Identifier: MIT-0-->


<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/amazon-connect-streams/release/connect-streams-min.js"></script>
</head>
<body>
<h1> Amazon Connect </h1>
<h2> PIZZAHUT </h1>
<div id="containerDiv" ></div>
<script>
connect.core.initCCP(containerDiv, {
   ccpUrl:        'https://pizzahut-prod.my.connect.aws/ccp-v2/',
   loginPopup:    false,          
   softphone:     {              
      allowFramedSoftphone: true
   }
});

connect.contact(function(contact) {

        contact.onIncoming(function(contact) {
        });

        contact.onRefresh(function(contact) {
        });

        contact.onAccepted(function(contact) {
        });

        contact.onEnded(function() {
        });

        contact.onConnected(function() {
                console.log(`onConnected(${contact.getContactId()})`);
                var attributeMap = contact.getAttributes();
                var option = JSON.stringify(attributeMap["agt_IVROption"]["value"]);
                var storeId = JSON.stringify(attributeMap["agt_store_id"]["value"]);
                
                window.alert("Customer's option: " + option + "\nStore ID: " + storeId);
        });
});
</script>
</body>
</html>